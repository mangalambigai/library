{% extends "main.html" %}
{% block content %}
{% include "header.html" %}

<div class = 'flash'>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul>
        {% for message in messages %}
            <li> <strong> {{ message }} </strong> </li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
</div>

  <h2>Manage Books</h2>

  <a href = " {{url_for('newBook')}} ">
    <button class="btn btn-primary">
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
      Add a new book
    </button></a>

  <table class="table table-hover table-condensed">
  <tr>
    <th>Book Title</th>
    <th>Author Name</th>
    <th>Subject</th>
    <th></th>
    <th></th>
  </tr>
  {% for i in books %}
    <tr>
      <td>{{i.name}}</td>
      <td>{{i.author}}</td>
      <td>{{i.subject}}</td>
      <td>
        <a href="{{ url_for('editBook', book_id=i.id) }}">
          <button class="btn btn-xs">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            Edit
          </button>
        </a>
      </td>
      <td>
        <a href="{{ url_for('deleteBook', book_id=i.id) }}">
          <button class="btn btn-xs">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
            Delete
          </button>
        </a>
      </td>
    </tr>
  {% endfor %}

{% endblock %}